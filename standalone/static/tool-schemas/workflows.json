{
  "category": "Workflows",
  "tools": [
    {
      "name": "start_conversation",
      "description": "Start a new conversation to track related commands",
      "arguments": [
        {
          "name": "goal_summary",
          "type": "text",
          "required": true,
          "label": "Goal Summary",
          "placeholder": "configure wifi"
        },
        {
          "name": "server_identifier",
          "type": "text",
          "required": false,
          "label": "Server Identifier (optional)"
        },
        {
          "name": "force",
          "type": "checkbox",
          "required": false,
          "default": false,
          "label": "Force create even if one is in-progress"
        }
      ]
    },
    {
      "name": "resume_conversation",
      "description": "Resume a paused conversation",
      "arguments": [
        {
          "name": "conversation_id",
          "type": "conversation_select",
          "required": true,
          "label": "Select Conversation to Resume"
        }
      ]
    },
    {
      "name": "end_conversation",
      "description": "End a conversation and mark its final status",
      "arguments": [
        {
          "name": "conversation_id",
          "type": "conversation_select",
          "required": true,
          "label": "Select Conversation to End"
        },
        {
          "name": "status",
          "type": "select",
          "required": true,
          "label": "Final Status",
          "options": [
            "success",
            "failed",
            "rolled_back"
          ]
        },
        {
          "name": "user_notes",
          "type": "textarea",
          "required": false,
          "label": "User Notes (optional)",
          "rows": 3
        }
      ]
    },
    {
      "name": "get_conversation_commands",
      "description": "Get all commands from a conversation",
      "arguments": [
        {
          "name": "conversation_id",
          "type": "conversation_select",
          "required": true,
          "label": "Select Conversation"
        },
        {
          "name": "reverse_order",
          "type": "checkbox",
          "required": false,
          "default": false,
          "label": "Reverse order (for rollback)"
        }
      ]
    },
    {
      "name": "list_conversations",
      "description": "List conversations with optional filters",
      "arguments": [
        {
          "name": "server_identifier",
          "type": "text",
          "required": false,
          "label": "Server Identifier (optional)"
        },
        {
          "name": "status",
          "type": "select",
          "required": false,
          "label": "Status Filter",
          "options": [
            "all",
            "in_progress",
            "paused",
            "success",
            "failed",
            "rolled_back"
          ]
        },
        {
          "name": "limit",
          "type": "number",
          "required": false,
          "default": 50,
          "label": "Max Results",
          "min": 1,
          "max": 200
        }
      ]
    },
    {
      "name": "update_command_status",
      "description": "Update command status (for rollback tracking)",
      "arguments": [
        {
          "name": "command_id",
          "type": "number",
          "required": true,
          "label": "Command ID"
        },
        {
          "name": "status",
          "type": "select",
          "required": true,
          "label": "Status",
          "options": [
            "undone"
          ]
        }
      ]
    },
    {
      "name": "create_recipe",
      "description": "Create a reusable recipe from a successful conversation",
      "arguments": [
        {
          "name": "conversation_id",
          "type": "conversation_select",
          "required": true,
          "label": "Select Conversation to Create Recipe From"
        },
        {
          "name": "name",
          "type": "text",
          "required": true,
          "label": "Recipe Name",
          "placeholder": "wifi_diagnostics"
        },
        {
          "name": "description",
          "type": "textarea",
          "required": true,
          "label": "Description",
          "rows": 3
        },
        {
          "name": "prerequisites",
          "type": "text",
          "required": false,
          "label": "Prerequisites (optional)",
          "placeholder": "Ubuntu 22.04+, sudo access"
        },
        {
          "name": "success_criteria",
          "type": "text",
          "required": false,
          "label": "Success Criteria (optional)",
          "placeholder": "Service running, port 8080 open"
        }
      ]
    },
    {
      "name": "list_recipes",
      "description": "List all available recipes",
      "arguments": [
        {
          "name": "limit",
          "type": "number",
          "required": false,
          "default": 50,
          "label": "Max Results",
          "min": 1,
          "max": 200
        }
      ]
    },
    {
      "name": "get_recipe",
      "description": "Get detailed recipe information including command sequence",
      "arguments": [
        {
          "name": "recipe_id",
          "type": "recipe_select",
          "required": true,
          "label": "Select Recipe"
        }
      ]
    },
    {
      "name": "execute_recipe",
      "description": "Execute a saved recipe on current or specified server",
      "arguments": [
        {
          "name": "recipe_id",
          "type": "recipe_select",
          "required": true,
          "label": "Select Recipe to Execute"
        },
        {
          "name": "server_identifier",
          "type": "text",
          "required": false,
          "label": "Server Identifier (optional)"
        },
        {
          "name": "start_conversation",
          "type": "checkbox",
          "required": false,
          "default": false,
          "label": "Create conversation to track execution"
        },
        {
          "name": "conversation_goal",
          "type": "text",
          "required": false,
          "label": "Conversation Goal (optional)",
          "placeholder": "Execute recipe: wifi_diagnostics"
        }
      ]
    },
    {
      "name": "delete_recipe",
      "description": "Delete a recipe (soft delete with confirmation)",
      "arguments": [
        {
          "required": true,
          "type": "recipe_select",
          "label": "Select Recipe to Delete",
          "name": "recipe_id"
        },
        {
          "required": false,
          "type": "checkbox",
          "label": "Confirm deletion",
          "name": "confirm",
          "default": false
        }
      ]
    },
    {
      "name": "create_recipe_from_commands",
      "description": "Create recipe from command list (manual creation)",
      "arguments": [
        {
          "placeholder": "wifi_setup",
          "required": true,
          "type": "text",
          "label": "Recipe Name",
          "name": "name"
        },
        {
          "rows": 3,
          "required": true,
          "type": "textarea",
          "label": "Description",
          "name": "description"
        },
        {
          "placeholder": "[{\"sequence\": 1, \"command\": \"ls -la\"}]",
          "required": true,
          "name": "commands",
          "type": "textarea",
          "rows": 10,
          "label": "Commands (JSON array)"
        },
        {
          "required": false,
          "type": "text",
          "label": "Prerequisites (optional)",
          "name": "prerequisites"
        },
        {
          "required": false,
          "type": "text",
          "label": "Success Criteria (optional)",
          "name": "success_criteria"
        }
      ]
    },
    {
      "name": "update_recipe",
      "description": "Update an existing recipe in-place (preserves ID and usage stats)",
      "special": "update_recipe_form",
      "arguments": [
        {
          "name": "recipe_id",
          "type": "recipe_select",
          "required": true,
          "label": "Select Recipe to Update"
        },
        {
          "name": "name",
          "type": "text",
          "required": false,
          "label": "Recipe Name",
          "placeholder": "docker_diagnostics_v2"
        },
        {
          "name": "description",
          "type": "textarea",
          "required": false,
          "label": "Description",
          "rows": 3
        },
        {
          "name": "commands",
          "type": "textarea",
          "required": false,
          "label": "Commands JSON (replaces all)",
          "rows": 10,
          "placeholder": "[{\"sequence\": 1, \"command\": \"ls -la\"}]"
        },
        {
          "name": "prerequisites",
          "type": "text",
          "required": false,
          "label": "Prerequisites"
        },
        {
          "name": "success_criteria",
          "type": "text",
          "required": false,
          "label": "Success Criteria"
        }
      ]
    }
  ]
}
